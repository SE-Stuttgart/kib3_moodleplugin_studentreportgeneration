define("mod_srg/pagination",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=
/**
   * Create a pagination navigation to switch between the different data batches.
   *
   * @module     mod_srg/pagination
   * @copyright  2024 University of Stuttgart <kasra.habib@iste.uni-stuttgart.de>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
function(){(function(){const paginationContainer=document.querySelector("#srg-pagination-container"),courseModuleId=parseInt(paginationContainer.dataset.coursemoduleid,10),activeTabIndex=parseInt(paginationContainer.dataset.activetabindex,10),activePageIndex=parseInt(paginationContainer.dataset.activepageindex,10),first=paginationContainer.querySelector(".srg-page-nav-first .page-link"),previous=paginationContainer.querySelector(".srg-page-nav-previous .page-link"),pages=paginationContainer.querySelectorAll(".srg-page-nav-page .page-link"),next=paginationContainer.querySelector(".srg-page-nav-next .page-link"),last=paginationContainer.querySelector(".srg-page-nav-last .page-link");first.addEventListener("click",(event=>{event.preventDefault();const newUrl=new URL("/mod/srg/report_view.php",window.location.origin);newUrl.searchParams.set("id",courseModuleId),newUrl.searchParams.set("report_id",activeTabIndex),newUrl.searchParams.set("page_index",0),window.location.href=newUrl.toString()})),previous.addEventListener("click",(event=>{event.preventDefault();const newUrl=new URL("/mod/srg/report_view.php",window.location.origin);newUrl.searchParams.set("id",courseModuleId),newUrl.searchParams.set("report_id",activeTabIndex),newUrl.searchParams.set("page_index",activePageIndex-1),window.location.href=newUrl.toString()})),pages.forEach(((page,index)=>{page.addEventListener("click",(event=>{event.preventDefault();const newUrl=new URL("/mod/srg/report_view.php",window.location.origin);newUrl.searchParams.set("id",courseModuleId),newUrl.searchParams.set("report_id",activeTabIndex),newUrl.searchParams.set("page_index",index),window.location.href=newUrl.toString()}))})),next.addEventListener("click",(event=>{event.preventDefault();const newUrl=new URL("/mod/srg/report_view.php",window.location.origin);newUrl.searchParams.set("id",courseModuleId),newUrl.searchParams.set("report_id",activeTabIndex),newUrl.searchParams.set("page_index",activePageIndex+1),window.location.href=newUrl.toString()})),last.addEventListener("click",(event=>{event.preventDefault();const newUrl=new URL("/mod/srg/report_view.php",window.location.origin);newUrl.searchParams.set("id",courseModuleId),newUrl.searchParams.set("report_id",activeTabIndex),newUrl.searchParams.set("page_index",pages.length-1),window.location.href=newUrl.toString()}))})(),function(){const paginationContainer=document.querySelector("#srg-pagination-container"),activePageIndex=parseInt(paginationContainer.dataset.activepageindex,10),first=paginationContainer.querySelector(".srg-page-nav-first"),previous=paginationContainer.querySelector(".srg-page-nav-previous"),leftEllipsis=paginationContainer.querySelector(".srg-page-nav-ellipsis-left"),pages=paginationContainer.querySelectorAll(".srg-page-nav-page"),rightEllipsis=paginationContainer.querySelector(".srg-page-nav-ellipsis-right"),next=paginationContainer.querySelector(".srg-page-nav-next"),last=paginationContainer.querySelector(".srg-page-nav-last"),offset=5,isFirst=0===activePageIndex,isLast=activePageIndex===pages.length-1,isFirstHidden=activePageIndex-offset>0,isLastHidden=activePageIndex+offset<pages.length-1,isAllHidden=pages.length<2;first.classList.toggle("disabled",isFirst),previous.classList.toggle("disabled",isFirst),next.classList.toggle("disabled",isLast),last.classList.toggle("disabled",isLast),first.classList.toggle("srg-hidden",isAllHidden),previous.classList.toggle("srg-hidden",isAllHidden),next.classList.toggle("srg-hidden",isAllHidden),last.classList.toggle("srg-hidden",isAllHidden),leftEllipsis.classList.toggle("srg-hidden",!isFirstHidden),rightEllipsis.classList.toggle("srg-hidden",!isLastHidden),pages.forEach(((page,index)=>{const isActive=index===activePageIndex;page.classList.toggle("active",isActive),page.setAttribute("aria-selected",isActive.toString());const isHidden=Math.abs(activePageIndex-index)>offset;page.classList.toggle("srg-hidden",isHidden||isAllHidden)})),paginationContainer.classList.toggle("srg-hidden",!1)}()}}));

//# sourceMappingURL=pagination.min.js.map